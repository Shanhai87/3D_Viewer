# 3DViewer v2.0

Реализация программы 3DViewer v2.0 для просмотра 3D моделей в каркасном виде.

## Содержание

1. [Part 1](#part-1-3dviewer-v20)
2. [Part 2](#part-2-клавиши-управления)
3. [Part 3](#part-3-настройки)
4. [Part 4](#part-4-запись)

## Part 1. 3DViewer v2.0

Разработанная программа для визуализации каркасной модели в трехмерном пространстве:
- разработана на языке C++ стандарта C++17;
- код программы находится в папке src;
- код программы соответствует Google Style;
- сборка программы настроена с помощью Makefile со стандартным набором целей для GNU-программ: all, install, uninstall, clean, dvi, dist, tests;
- программа разработана в соответствии с принципами объектно-ориентированного программирования;
- обеспечено полное покрытие тестами модулей, связанных с загрузкой моделей и аффинными преобразованиями;
- программа предоставляет возможность:
    - Загружать модель из файла формата obj (поддержка списка вершин, поверхностей и нормалей).
    - Перемещать модель на заданное расстояние относительно осей X, Y, Z.
    - Поворачивать модель на заданный угол относительно своих осей X, Y, Z.
    - Масштабировать модель на заданное значение.
    - Переключать тип отображения объекта: каркасная модель, плоское затенение, мягкое затенение (методом Гуро или методом Фонга).
    - Задавать источник освещения, его базовую интенсивность (через три компоненты: R, G, B) и положение.
- в программе реализован графический пользовательский интерфейс на базе GUI-библиотеки Qt;
- графический пользовательский интерфейс содержит:
    - Кнопку для выбора файла с моделью и поле для вывода его названия.
    - Зону визуализации модели.
    - Кнопку/кнопки и поля ввода для перемещения модели.
    - Кнопку/кнопки и поля ввода для поворота модели.
    - Кнопку/кнопки и поля ввода для масштабирования модели.
    - Информацию о загруженной модели - название файла, кол-во вершин и ребер.
- программа реализована с использованием паттерна MVC;
- классы реализованы внутри пространства имен `s21`.

## Part 2. Клавиши управления
- (левая кнопка мыши) - перемещает модель вдоль осей X и Y;
- (shift + левая кнопка мыши) - перемещает модель вдоль оси Z;
- (правая кнопка мыши) - поворачивает модель вокруг осей X и Y;
- (средняя кнопка мыши) - поворачивает модель вокруг оси Z;
- (стрелка влево) - отменяет последнее преобразование модели;
- (shift + стрелка влево) - отменяет несколько последних преобразований модели;
- (стрелка вправо) - возвращает последнее преобразование модели;
- (shift + стрелка вправо) - возвращает несколько последних преобразований модели;
- (esc) - закрывает gif-анимацию, картинку или программу.

## Part 3. Настройки

- программа позволяет настраивать тип проекции (параллельная и центральная);
- программа позволяет настраивать тип (сплошная, пунктирная), цвет и толщину ребер, способ отображения (отсутствует, круг, квадрат), цвет и размер вершин;
- программа позволяет настраивать тип отображения (Wire, Shooth Shading, Flat Shading);
- программа позволяет наносить текстуру на объект (texture mapping), имеющий uv-развертку (uv-map)
- при рендеринге полигоны модели закрашены в соответствии с uv-преобразованиями
- при загрузке модели с uv-разметкой, должна стать доступной кнопка "Нанести текстуру", которая позволяет выбрать файл текстуры
- разрешение файла текстуры не может превышать 1024x1024 пикселей
- файл текстуры имеет расширение BMP
- текстура может быть только квадратной, координаты всегда нормируются к значениям от 0 до 1
- текстура не отображается в режиме каркасной модели
- после загрузки текстуры в интерфейсе программы становится доступной кнопка "Снять текстуру", после которой текстура выгружается из памяти программы и перестает отображаться на модели
- программа позволяет сохранять UV-карту модели поверх выбранной текстуры в отдельный BMP-файл;
- программа позволяет настраивать положение света относительно осей X,Y,Z;
- программа позволяет выбирать цвет фона;
- программа позволяет выбирать цвет света;
- настройки сохраняются между перезапусками программы.

## Part 4. Запись
 
- программа позволяет сохранять полученные ("отрендеренные") изображения в файл в форматах bmp и jpeg;
- программа позволяет записывать небольшие "скринкасты" - текущие пользовательские аффинные преобразования загруженного объекта в gif-анимацию (640x480, 10fps, 5s).
- Программа позволяет по специальной кнопке сохранять короткое превью модели - gif-анимацию (640x480, 10fps, 5s) с вращением объекта вокруг одной оси.
